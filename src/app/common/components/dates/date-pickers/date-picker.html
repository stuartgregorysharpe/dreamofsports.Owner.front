<div class="dp-date" #btnelement (click)="onActivate()">    
    <span class="dpd-value">{{formattedDate}}</span>
    <span *ngIf="resetable && value" class="dpd-reset" (click)="onReset($event)"></span>
</div>
<div class="dp-calendar" [class.active]="calendarActive" [style.left]="calendarLeft" [style.top]="calendarTop">        
    <div class="dp-head">        
        <div class="dp-currentmonthdash">
            <div class="dp-currentmonth">{{thelang.words["date-month-"+(month+1)]}} {{year}}</div>
            <div class="roundbtn compact down" (click)="yearPickerActive = true"><span></span></div>
        </div>
        <div class="dp-monthdash">
            <div class="roundbtn compact back" (mousedown)="onMonthBack();"><span></span></div>
            <div class="roundbtn compact forward" (mousedown)="onMonthForward();"><span></span></div>
        </div>        
    </div>
    <div class="dp-days">                
        <div class="dp-days-content">
            <div class="head" *ngFor="let i of [1,2,3,4,5,6,7]">{{thelang.words['date-week-'+i]}}</div>                
            <div *ngFor="let day of days" class="day" [class.hidden]="day.hidden" [class.holiday]="day.holiday" [class.current]="day.current" [class.now]="day.now" (click)="onSetDate(day);">{{day.n}}</div>
        </div>
    </div>
    <div class="dp-time" *ngIf="useTime">
        <time-picker [(hour)]="currentHour" [(minute)]="currentMinute"></time-picker>
    </div>
    <div class="dp-foot">
        <button type="button" class="compact select" (click)="onApply()"><span>{{thelang.words["common-select"]}}</span></button>
    </div>
    <year-picker [(value)]="year" [(active)]="yearPickerActive" (valueChange)="buildDays()"></year-picker>
</div> 
<div class="dp-ovl" [class.active]="calendarActive" (click)="close()"></div>
